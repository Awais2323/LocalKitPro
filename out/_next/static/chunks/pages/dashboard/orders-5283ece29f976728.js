(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4954],{77957:function(e,n,r){"use strict";var t=r(64836);n.Z=void 0;var a=t(r(64938)),l=r(85893),i=(0,a.default)((0,l.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");n.Z=i},94201:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/orders",function(){return r(37737)}])},49208:function(e,n,r){"use strict";r.d(n,{I:function(){return $}});var t=r(26042),a=r(69396),l=r(99534),i=r(85893),o=r(45697),s=r.n(o),c=(0,r(81719).ZP)("span")(function(e){var n,r=e.theme,t=e.ownerState;return{alignItems:"center",backgroundColor:r.palette[t.color].main,borderRadius:12,color:r.palette[t.color].contrastText,cursor:"default",display:"inline-flex",flexGrow:0,flexShrink:0,fontFamily:r.typography.fontFamily,fontSize:r.typography.pxToRem(12),lineHeight:2,fontWeight:600,justifyContent:"center",letterSpacing:.5,minWidth:20,paddingLeft:r.spacing(1),paddingRight:r.spacing(1),textTransform:"uppercase",whiteSpace:"nowrap"}}),$=function(e){var n=e.color,r=e.children,o=(0,l.Z)(e,["color","children"]);return(0,i.jsx)(c,(0,a.Z)((0,t.Z)({ownerState:{color:void 0===n?"primary":n}},o),{children:r}))};$.propTypes={children:s().node,color:s().oneOf(["primary","secondary","error","info","warning","success"])}},21392:function(e,n,r){"use strict";r.d(n,{v:function(){return a}});var t=r(85893),a=(0,r(54235).Z)((0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Plus")},37737:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return es}});var t=r(47568),a=r(14924),l=r(26042),i=r(69396),o=r(70655),s=r(85893),c=r(67294),$=r(9008),d=r.n($),u=r(61953),x=r(79072),p=r(29630),h=r(54225),m=r(92383),g=r(18661),f=r(44373),v=r(67836),j=r(9041),Z=r(81719),_=r(70631),b=r(98875),y=r(64527),C=r(99534),w=r(45697),P=r.n(w),S=r(32912),R=r(92077),k=r.n(R),A=r(90244),I=r(93978),W=r(69417),O=r(5605),D=r(39807),z=r(64631),T=r(61225),L=r(80562),E=r(77957),G=r(21016),M=r(66350),q=r(40942),F=r(34547),N=[{label:"Canceled",value:"canceled"},{label:"Complete",value:"complete"},{label:"Pending",value:"pending"},{label:"Rejected",value:"rejected"}],H=function(e){var n=e.lgUp,r=e.onApprove,t=e.onEdit,a=e.onReject,l=e.order,i=n?"horizontal":"vertical";return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(u.Z,{sx:{alignItems:"center",backgroundColor:function(e){return"dark"===e.palette.mode?"neutral.800":"neutral.100"},borderRadius:1,display:"flex",flexWrap:"wrap",justifyContent:"space-between",px:3,py:2.5},children:[(0,s.jsx)(p.Z,{color:"textSecondary",sx:{mr:2},variant:"overline",children:"Actions"}),(0,s.jsxs)(u.Z,{sx:{alignItems:"center",display:"flex",flexWrap:"wrap",m:-1,"& > button":{m:1}},children:[(0,s.jsx)(h.Z,{onClick:r,size:"small",variant:"contained",children:"Approve"}),(0,s.jsx)(h.Z,{onClick:a,size:"small",variant:"outlined",children:"Reject"}),(0,s.jsx)(h.Z,{onClick:t,size:"small",startIcon:(0,s.jsx)(E.Z,{fontSize:"small"}),children:"Edit"})]})]}),(0,s.jsx)(p.Z,{sx:{my:3},variant:"h6",children:"Details"}),(0,s.jsxs)(M.c,{children:[(0,s.jsx)(q.c,{align:i,disableGutters:!0,label:"ID",value:l.id}),(0,s.jsx)(q.c,{align:i,disableGutters:!0,label:"Number",value:l.number}),(0,s.jsxs)(q.c,{align:i,disableGutters:!0,label:"Customer",children:[(0,s.jsx)(p.Z,{color:"primary",variant:"body2",children:l.customer.name}),(0,s.jsx)(p.Z,{color:"textSecondary",variant:"body2",children:l.customer.address1}),(0,s.jsx)(p.Z,{color:"textSecondary",variant:"body2",children:l.customer.city}),(0,s.jsx)(p.Z,{color:"textSecondary",variant:"body2",children:l.customer.country})]}),(0,s.jsx)(q.c,{align:i,disableGutters:!0,label:"Date",value:(0,S.Z)(l.createdAt,"dd/MM/yyyy HH:mm")}),(0,s.jsx)(q.c,{align:i,disableGutters:!0,label:"Promotion Code",value:l.promotionCode}),(0,s.jsx)(q.c,{align:i,disableGutters:!0,label:"Total Amount",value:"".concat(l.currency).concat(l.totalAmount)}),(0,s.jsx)(q.c,{align:i,disableGutters:!0,label:"Status",value:l.status})]}),(0,s.jsx)(f.Z,{sx:{my:3}}),(0,s.jsx)(p.Z,{sx:{my:3},variant:"h6",children:"Line items"}),(0,s.jsx)(F.L,{children:(0,s.jsxs)(A.Z,{sx:{minWidth:400},children:[(0,s.jsx)(I.Z,{children:(0,s.jsxs)(W.Z,{children:[(0,s.jsx)(O.Z,{children:"Description"}),(0,s.jsx)(O.Z,{children:"Billing Cycle"}),(0,s.jsx)(O.Z,{children:"Amount"})]})}),(0,s.jsx)(D.Z,{children:(l.items||[]).map(function(e){return(0,s.jsxs)(W.Z,{children:[(0,s.jsxs)(O.Z,{children:[e.name," ","x"," ",e.quantity]}),(0,s.jsx)(O.Z,{children:e.billingCycle}),(0,s.jsx)(O.Z,{children:k()(e.unitAmount).format("".concat(e.currency,"0,0.00"))})]},e.id)})})]})})]})},B=function(e){var n=e.onCancel,r=e.onSave,t=e.order;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(u.Z,{sx:{alignItems:"center",backgroundColor:function(e){return"dark"===e.palette.mode?"neutral.800":"neutral.100"},borderRadius:1,display:"flex",flexWrap:"wrap",justifyContent:"space-between",px:3,py:2.5},children:[(0,s.jsx)(p.Z,{variant:"overline",sx:{mr:2},color:"textSecondary",children:"Order"}),(0,s.jsxs)(u.Z,{sx:{alignItems:"center",display:"flex",m:-1,"& > button":{m:1}},children:[(0,s.jsx)(h.Z,{color:"primary",onClick:r,size:"small",variant:"contained",children:"Save changes"}),(0,s.jsx)(h.Z,{onClick:n,size:"small",variant:"outlined",children:"Cancel"})]})]}),(0,s.jsx)(p.Z,{sx:{my:3},variant:"h6",children:"Details"}),(0,s.jsx)(v.Z,{disabled:!0,fullWidth:!0,label:"ID",margin:"normal",name:"id",value:t.id}),(0,s.jsx)(v.Z,{disabled:!0,fullWidth:!0,label:"Number",margin:"normal",name:"number",value:t.number}),(0,s.jsx)(v.Z,{disabled:!0,fullWidth:!0,label:"Customer name",margin:"normal",name:"customer_name",value:t.customer.name}),(0,s.jsx)(v.Z,{disabled:!0,fullWidth:!0,label:"Date",margin:"normal",name:"date",value:(0,S.Z)(t.createdAt,"dd/MM/yyyy HH:mm")}),(0,s.jsx)(v.Z,{fullWidth:!0,label:"Address",margin:"normal",name:"address",value:t.customer.address1}),(0,s.jsx)(v.Z,{fullWidth:!0,label:"Country",margin:"normal",name:"country",value:t.customer.country}),(0,s.jsx)(v.Z,{fullWidth:!0,label:"State/Region",margin:"normal",name:"state_region",value:t.customer.city}),(0,s.jsx)(v.Z,{fullWidth:!0,label:"Total Amount",margin:"normal",name:"amount",value:t.totalAmount}),(0,s.jsx)(v.Z,{fullWidth:!0,label:"Status",margin:"normal",name:"status",select:!0,SelectProps:{native:!0},value:t.status,children:N.map(function(e){return(0,s.jsx)("option",{value:e.value,children:e.label},e.value)})}),(0,s.jsx)(h.Z,{color:"error",sx:{mt:3},children:"Delete order"})]})},U=(0,Z.ZP)(z.ZP)({width:500,flexShrink:0,"& .MuiDrawer-paper":{position:"relative",width:500}}),V=(0,Z.ZP)(z.ZP)({flexShrink:0,maxWidth:"100%",height:"calc(100% - 64px)",width:500,"& .MuiDrawer-paper":{height:"calc(100% - 64px)",maxWidth:"100%",top:64,width:500}}),X=function(e){var n=e.containerRef,r=e.onClose,t=e.open,a=e.order,o=(0,C.Z)(e,["containerRef","onClose","open","order"]),$=(0,c.useState)(!1),d=$[0],x=$[1],h=(0,T.Z)(function(e){return e.breakpoints.up("lg")}),m=function(){x(!0)},g=function(){x(!1)},f=a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(u.Z,{sx:{alignItems:"center",backgroundColor:"primary.main",color:"primary.contrastText",display:"flex",justifyContent:"space-between",px:3,py:2},children:[(0,s.jsx)(p.Z,{color:"inherit",variant:"h6",children:a.number}),(0,s.jsx)(L.Z,{color:"inherit",onClick:r,children:(0,s.jsx)(G.X,{fontSize:"small"})})]}),(0,s.jsx)(u.Z,{sx:{px:3,py:4},children:d?(0,s.jsx)(B,{onCancel:g,onSave:g,order:a}):(0,s.jsx)(H,{onApprove:r,onEdit:m,onReject:r,order:a,lgUp:h})})]}):null;return h?(0,s.jsx)(U,(0,i.Z)((0,l.Z)({anchor:"right",open:t,SlideProps:{container:null==n?void 0:n.current},variant:"persistent"},o),{children:f})):(0,s.jsx)(V,(0,i.Z)((0,l.Z)({anchor:"right",ModalProps:{container:null==n?void 0:n.current},onClose:r,open:t,SlideProps:{container:null==n?void 0:n.current},variant:"temporary"},o),{children:f}))};X.propTypes={containerRef:P().any,onClose:P().func,open:P().bool,order:P().object};var K=r(25650),J=r(49208),Q={complete:"success",pending:"info",canceled:"warning",rejected:"error"},Y=function(e){var n=e.onOpenDrawer,r=e.onPageChange,t=e.onRowsPerPageChange,a=e.orders,o=e.ordersCount,c=e.page,$=e.rowsPerPage,d=(0,C.Z)(e,["onOpenDrawer","onPageChange","onRowsPerPageChange","orders","ordersCount","page","rowsPerPage"]);return(0,s.jsxs)("div",(0,i.Z)((0,l.Z)({},d),{children:[(0,s.jsx)(A.Z,{children:(0,s.jsx)(D.Z,{children:a.map(function(e){return(0,s.jsxs)(W.Z,{hover:!0,onClick:function(){return null==n?void 0:n(e.id)},sx:{cursor:"pointer"},children:[(0,s.jsxs)(O.Z,{sx:{alignItems:"center",display:"flex"},children:[(0,s.jsxs)(u.Z,{sx:{backgroundColor:function(e){return"dark"===e.palette.mode?"neutral.800":"neutral.200"},borderRadius:2,maxWidth:"fit-content",ml:3,p:1},children:[(0,s.jsx)(p.Z,{align:"center",variant:"subtitle2",children:(0,S.Z)(e.createdAt,"LLL").toUpperCase()}),(0,s.jsx)(p.Z,{align:"center",variant:"h6",children:(0,S.Z)(e.createdAt,"d")})]}),(0,s.jsxs)(u.Z,{sx:{ml:2},children:[(0,s.jsx)(p.Z,{variant:"subtitle2",children:e.number}),(0,s.jsxs)(p.Z,{color:"textSecondary",variant:"body2",children:["Total of"," ",k()(e.totalAmount).format("".concat(e.currency,"0,0.00"))]})]})]}),(0,s.jsx)(O.Z,{align:"right",children:(0,s.jsx)(J.I,{color:Q[e.status]||"warning",children:e.status})})]},e.id)})})}),(0,s.jsx)(K.Z,{component:"div",count:o,onPageChange:r,onRowsPerPageChange:t,page:c,rowsPerPage:$,rowsPerPageOptions:[5,10,25]})]}))};Y.propTypes={onOpenDrawer:P().func,onPageChange:P().func.isRequired,onRowsPerPageChange:P().func,orders:P().array.isRequired,ordersCount:P().number.isRequired,page:P().number.isRequired,rowsPerPage:P().number.isRequired};var ee=r(46723),en=r(21392),er=r(97169),et=r(38682),ea=[{label:"All",value:"all"},{label:"Canceled",value:"canceled"},{label:"Completed",value:"complete"},{label:"Pending",value:"pending"},{label:"Rejected",value:"rejected"}],el=[{label:"Newest",value:"desc"},{label:"Oldest",value:"asc"}],ei=(0,Z.ZP)("div",{shouldForwardProp:function(e){return"open"!==e}})(function(e){var n,r,t=e.theme,i=e.open;return(0,l.Z)((n={flexGrow:1,overflow:"hidden",paddingBottom:t.spacing(8),paddingTop:t.spacing(8),zIndex:1},(0,a.Z)(n,t.breakpoints.up("lg"),{marginRight:-500}),(0,a.Z)(n,"transition",t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})),n),i&&(r={},(0,a.Z)(r,t.breakpoints.up("lg"),{marginRight:0}),(0,a.Z)(r,"transition",t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen})),r))}),eo=function(){var e=(0,ee.s)(),n=(0,c.useRef)(null),r=(0,c.useRef)(null),a=(0,c.useState)("all"),$=a[0],Z=a[1],b=(0,c.useState)("desc"),y=b[0],C=b[1],w=(0,c.useState)(0),P=w[0],S=w[1],R=(0,c.useState)(5),k=R[0],A=R[1],I=(0,c.useState)([]),W=I[0],O=I[1],D=(0,c.useState)({query:"",status:void 0}),z=D[0],T=D[1],L=(0,c.useState)({isOpen:!1,orderId:void 0}),E=L[0],G=L[1];(0,c.useEffect)(function(){et.w.push({event:"page_view"})},[]);var M=(0,c.useCallback)((0,t.Z)(function(){var n,r;return(0,o.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,_.E.getOrders()];case 1:return n=t.sent(),e()&&O(n),[3,3];case 2:return r=t.sent(),console.error(r),[3,3];case 3:return[2]}})}),[e]);(0,c.useEffect)(function(){M()},[]);var q,F,N,H,B,U,V,K=function(e,n){Z(n),T(function(e){return(0,i.Z)((0,l.Z)({},e),{status:"all"===n?void 0:n})})},J=function(e){e.preventDefault(),T(function(e){var n;return(0,i.Z)((0,l.Z)({},e),{query:null===(n=r.current)||void 0===n?void 0:n.value})})},Q=function(e){C(e.target.value)},eo=function(e,n){S(n)},es=function(e){A(parseInt(e.target.value,10))},ec=function(e){G({isOpen:!0,orderId:e})},e$=function(){G({isOpen:!1,orderId:void 0})},ed=(q=W,F=z,q.filter(function(e){return(!F.query||!!(e.number||"").toLowerCase().includes(F.query.toLowerCase()))&&(void 0===F.status||e.status===F.status)})),eu=(B=(N=ed,H=y,N.sort(function(e,n){var r=e.createdAt>n.createdAt?-1:1;return"desc"===H?r:-r})),U=P,V=k,B.slice(U*V,U*V+V));return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d(),{children:(0,s.jsx)("title",{children:"Dashboard: Order List | Material Kit Pro"})}),(0,s.jsxs)(u.Z,{component:"main",ref:n,sx:{backgroundColor:"background.paper",display:"flex",flexGrow:1,overflow:"hidden"},children:[(0,s.jsxs)(ei,{open:E.isOpen,children:[(0,s.jsxs)(u.Z,{sx:{px:3},children:[(0,s.jsxs)(x.ZP,{container:!0,justifyContent:"space-between",spacing:3,children:[(0,s.jsx)(x.ZP,{item:!0,children:(0,s.jsx)(p.Z,{variant:"h4",children:"Orders"})}),(0,s.jsx)(x.ZP,{item:!0,children:(0,s.jsx)(h.Z,{startIcon:(0,s.jsx)(en.v,{fontSize:"small"}),variant:"contained",children:"Add"})})]}),(0,s.jsx)(m.Z,{indicatorColor:"primary",onChange:K,scrollButtons:"auto",textColor:"primary",value:$,sx:{mt:3},variant:"scrollable",children:ea.map(function(e){return(0,s.jsx)(g.Z,{label:e.label,value:e.value},e.value)})})]}),(0,s.jsx)(f.Z,{}),(0,s.jsxs)(u.Z,{sx:{alignItems:"center",display:"flex",flexWrap:"wrap",m:-1.5,p:3},children:[(0,s.jsx)(u.Z,{component:"form",onSubmit:J,sx:{flexGrow:1,m:1.5},children:(0,s.jsx)(v.Z,{defaultValue:"",fullWidth:!0,inputProps:{ref:r},InputProps:{startAdornment:(0,s.jsx)(j.Z,{position:"start",children:(0,s.jsx)(er.o,{fontSize:"small"})})},placeholder:"Search by order number"})}),(0,s.jsx)(v.Z,{label:"Sort By",name:"order",onChange:Q,select:!0,SelectProps:{native:!0},sx:{m:1.5},value:y,children:el.map(function(e){return(0,s.jsx)("option",{value:e.value,children:e.label},e.value)})})]}),(0,s.jsx)(f.Z,{}),(0,s.jsx)(Y,{onOpenDrawer:ec,onPageChange:eo,onRowsPerPageChange:es,orders:eu,ordersCount:ed.length,page:P,rowsPerPage:k})]}),(0,s.jsx)(X,{containerRef:n,onClose:e$,open:E.isOpen,order:W.find(function(e){return e.id===E.orderId})})]})]})};eo.getLayout=function(e){return(0,s.jsx)(b.a,{children:(0,s.jsx)(y.c,{children:e})})};var es=eo}},function(e){e.O(0,[7760,8576,7836,4054,9072,2251,3837,7998,5720,5354,7413,2077,3418,4215,912,8848,5700,9774,2888,179],function(){return e(e.s=94201)}),_N_E=e.O()}]);