(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3259],{60243:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/calendar",function(){return n(36856)}])},64337:function(e,t,n){"use strict";n.d(t,{s:function(){return i}});var r=n(85893),i=(0,n(54235).Z)((0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})}),"ChevronLeft")},21392:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});var r=n(85893),i=(0,n(54235).Z)((0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Plus")},13127:function(e,t,n){"use strict";n.d(t,{r:function(){return i}});var r=n(85893),i=(0,n(54235).Z)((0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Trash")},36856:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return em}});var r=n(47568),i=n(70655),a=n(85893);n(678),n(77066),n(38660),n(55359),n(65313);var l=n(67294),o=n(9008),s=n.n(o),c=n(96476),$=n(77773),d=n(46842),u=n(56903),p=n(1199),_=n(14047),f=n(61225),v=n(61953),h=n(81719),g=n(41796),m=n(98875),x=n(64527),y=n(26042),Z=n(45697),b=n.n(Z),w=n(86501),j=n(58545),D=n(74231),C=n(82175),T=n(2961),k=n(29630),E=n(67836),S=n(22841),I=n(54181),A=n(32631),M=n(44373),W=n(80562),P=n(54225),z=n(81659),V=n(13127),R=n(66605),B=n(51438),F=n(52951),G=n(37042),O=n(4543),H=n(7069),N=n(77349),q=n(69119),L=n(83894),X=n(81558),J=n(81230),K=new Date,U=[{id:"5e8882e440f6322fa399eeb8",allDay:!1,color:"#FFB020",description:"Inform about new contract",end:(0,G.Z)((0,O.Z)((0,H.Z)(K,6),0),19).getTime(),start:(0,G.Z)((0,O.Z)((0,H.Z)(K,6),30),17).getTime(),title:"Call Samantha"},{id:"5e8882eb5f8ec686220ff131",allDay:!1,color:"#14B8A6",description:"Discuss about new partnership",end:(0,G.Z)((0,O.Z)((0,N.Z)(K,2),30),15).getTime(),start:(0,G.Z)((0,O.Z)((0,N.Z)(K,2),0),12).getTime(),title:"Meet with IBM"},{id:"5e8882f1f0c9216396e05a9b",allDay:!1,color:"#2196F3",description:"Prepare docs",end:(0,G.Z)((0,O.Z)((0,N.Z)(K,5),0),12).getTime(),start:(0,G.Z)((0,O.Z)((0,N.Z)(K,5),0),8).getTime(),title:"SCRUM Planning"},{id:"5e8882f6daf81eccfa40dee2",allDay:!0,color:"#D14343",description:"Meet with team to discuss",end:(0,q.Z)((0,H.Z)(K,11)).getTime(),start:(0,L.Z)((0,H.Z)(K,12)).getTime(),title:"Begin SEM"},{id:"5e8882fcd525e076b3c1542c",allDay:!1,color:"#14B8A6",description:"Sorry, John!",end:(0,G.Z)((0,O.Z)((0,N.Z)(K,3),31),7).getTime(),start:(0,G.Z)((0,O.Z)((0,N.Z)(K,3),30),7).getTime(),title:"Fire John"},{id:"5e888302e62149e4b49aa609",allDay:!1,color:"#10B981",description:"Discuss about the new project",end:(0,G.Z)((0,O.Z)((0,H.Z)(K,6),30),9).getTime(),start:(0,G.Z)((0,O.Z)((0,H.Z)(K,6),0),9).getTime(),title:"Call Alex"},{id:"5e88830672d089c53c46ece3",allDay:!1,color:"#2196F3",description:"Get a new quote for the payment processor",end:(0,G.Z)((0,O.Z)(K,30),17).getTime(),start:(0,G.Z)((0,O.Z)(K,30),15).getTime(),title:"Visit Samantha"}],Q=new(function(){function e(){(0,B.Z)(this,e)}return(0,F.Z)(e,[{key:"getEvents",value:function(e){return Promise.resolve((0,J.p)(U))}},{key:"createEvent",value:function(e){var t=e.allDay,n=e.description,r=e.end,i=e.start,a=e.title;return new Promise(function(e,l){try{var o=(0,J.p)(U),s={id:(0,X.h)(),allDay:t,description:n,end:r,start:i,title:a};o.push(s),U=o,e((0,J.p)(s))}catch(c){console.error("[Calendar Api]: ",c),l(Error("Internal server error"))}})}},{key:"updateEvent",value:function(e){var t=e.eventId,n=e.update;return new Promise(function(e,r){try{var i=(0,J.p)(U),a=U.find(function(e){return e.id===t});if(!a){r(Error("Event not found"));return}Object.assign(a,n),U=i,e((0,J.p)(a))}catch(l){console.error("[Calendar Api]: ",l),r(Error("Internal server error"))}})}},{key:"deleteEvent",value:function(e){var t=e.eventId;return new Promise(function(e,n){try{var r=(0,J.p)(U);if(!U.find(function(e){return e.id===t})){n(Error("Event not found"));return}U=U.filter(function(e){return e.id!==t}),U=r,e(!0)}catch(i){console.error("[Calendar Api]: ",i),n(Error("Internal server error"))}})}}]),e}()),Y=n(83199),ee=function(){var e;return e=(0,r.Z)(function(e){var t;return(0,i.__generator)(this,function(n){switch(n.label){case 0:return[4,Q.getEvents()];case 1:return t=n.sent(),e(Y.t.actions.getEvents(t)),[2]}})}),function(t){return e.apply(this,arguments)}},et=function(e){var t;return t=(0,r.Z)(function(t){var n;return(0,i.__generator)(this,function(r){switch(r.label){case 0:return[4,Q.createEvent(e)];case 1:return n=r.sent(),t(Y.t.actions.createEvent(n)),[2]}})}),function(e){return t.apply(this,arguments)}},en=function(e){var t;return t=(0,r.Z)(function(t){var n;return(0,i.__generator)(this,function(r){switch(r.label){case 0:return[4,Q.updateEvent(e)];case 1:return n=r.sent(),t(Y.t.actions.updateEvent(n)),[2]}})}),function(e){return t.apply(this,arguments)}},er=function(e){var t;return t=(0,r.Z)(function(t){return(0,i.__generator)(this,function(n){switch(n.label){case 0:return[4,Q.deleteEvent(e)];case 1:return n.sent(),t(Y.t.actions.deleteEvent(e.eventId)),[2]}})}),function(e){return t.apply(this,arguments)}},ei=function(e){var t,n,o=e.event,s=e.onAddComplete,c=e.onClose,$=e.onDeleteComplete,d=e.onEditComplete,u=e.open,p=e.range,_=(0,R.I0)(),f=(0,l.useMemo)(function(){return o?{allDay:o.allDay||!1,color:o.color||"",description:o.description||"",end:o.end?new Date(o.end):(0,j.Z)(new Date,30),start:o.start?new Date(o.start):new Date,title:o.title||"",submit:null}:p?{allDay:!1,color:"",description:"",end:new Date(p.end),start:new Date(p.start),title:"",submit:null}:{allDay:!1,color:"",description:"",end:(0,j.Z)(new Date,30),start:new Date,title:"",submit:null}},[o,p]),h=(0,C.TA)({enableReinitialize:!0,initialValues:f,validationSchema:D.Ry({allDay:D.Xg(),description:D.Z_().max(5e3),end:D.hT(),start:D.hT(),title:D.Z_().max(255).required("Title is required")}),onSubmit:(t=(0,r.Z)(function(e,t){var n,r,a,l,c,$;return(0,i.__generator)(this,function(i){switch(i.label){case 0:if(i.trys.push([0,5,,6]),n=((r={}).allDay=e.allDay,r.description=e.description,r.end=e.end.getTime(),r.start=e.start.getTime(),r.title=e.title,r),!o)return[3,2];return[4,_(en(((a={}).eventId=o.id,a.update=n,a)))];case 1:return i.sent(),w.ZP.success("Event updated!"),[3,4];case 2:return[4,_(et(n))];case 3:i.sent(),w.ZP.success("Event added!"),i.label=4;case 4:return!o&&s&&s(),o&&d&&d(),[3,6];case 5:return l=i.sent(),console.error(l),w.ZP.error("Something went wrong!"),c={},t.setStatus((c.success=!1,c)),$={},t.setErrors(($.submit=l.message,$)),t.setSubmitting(!1),[3,6];case 6:return[2]}})}),function(e,n){return t.apply(this,arguments)})}),g=function(e){h.setFieldValue("start",e),h.values.end&&e&&e>h.values.end&&h.setFieldValue("end",e)},m=function(e){h.setFieldValue("end",e),h.values.start&&e&&e<h.values.start&&h.setFieldValue("start",e)},x=(n=(0,r.Z)(function(){var e,t;return(0,i.__generator)(this,function(n){switch(n.label){case 0:if(n.trys.push([0,2,,3]),!o)return[2];return[4,_(er(((e={}).eventId=o.id,e)))];case 1:return n.sent(),null==$||$(),[3,3];case 2:return t=n.sent(),console.error(t),[3,3];case 3:return[2]}})}),function(){return n.apply(this,arguments)});return(0,a.jsx)(T.Z,{fullWidth:!0,maxWidth:"sm",onClose:c,open:!!u,children:(0,a.jsxs)("form",{onSubmit:h.handleSubmit,children:[(0,a.jsx)(v.Z,{sx:{p:3},children:(0,a.jsx)(k.Z,{align:"center",gutterBottom:!0,variant:"h5",children:o?"Edit Event":"Add Event"})}),(0,a.jsxs)(v.Z,{sx:{p:3},children:[(0,a.jsx)(E.Z,{error:Boolean(h.touched.title&&h.errors.title),fullWidth:!0,helperText:h.touched.title&&h.errors.title,label:"Title",name:"title",onBlur:h.handleBlur,onChange:h.handleChange,value:h.values.title}),(0,a.jsx)(v.Z,{sx:{mt:2},children:(0,a.jsx)(E.Z,{error:Boolean(h.touched.description&&h.errors.description),fullWidth:!0,helperText:h.touched.description&&h.errors.description,label:"Description",name:"description",onBlur:h.handleBlur,onChange:h.handleChange,value:h.values.description})}),(0,a.jsx)(v.Z,{sx:{mt:2},children:(0,a.jsx)(S.Z,{control:(0,a.jsx)(I.Z,{checked:h.values.allDay,name:"allDay",onChange:h.handleChange}),label:"All day"})}),(0,a.jsx)(v.Z,{sx:{mt:2},children:(0,a.jsx)(z.x,{label:"Start date",onChange:g,renderInput:function(e){return(0,a.jsx)(E.Z,(0,y.Z)({fullWidth:!0},e))},value:h.values.start})}),(0,a.jsx)(v.Z,{sx:{mt:2},children:(0,a.jsx)(z.x,{label:"End date",onChange:m,renderInput:function(e){return(0,a.jsx)(E.Z,(0,y.Z)({fullWidth:!0},e))},value:h.values.end})}),Boolean(h.touched.end&&h.errors.end)&&(0,a.jsx)(v.Z,{sx:{mt:2},children:(0,a.jsx)(A.Z,{error:!0,children:h.errors.end})})]}),(0,a.jsx)(M.Z,{}),(0,a.jsxs)(v.Z,{sx:{alignItems:"center",display:"flex",p:2},children:[o&&(0,a.jsx)(W.Z,{onClick:function(){return x()},children:(0,a.jsx)(V.r,{fontSize:"small"})}),(0,a.jsx)(v.Z,{sx:{flexGrow:1}}),(0,a.jsx)(P.Z,{onClick:c,children:"Cancel"}),(0,a.jsx)(P.Z,{disabled:h.isSubmitting,sx:{ml:1},type:"submit",variant:"contained",children:"Confirm"})]})]})})};ei.propTypes={event:b().object,onAddComplete:b().func,onClose:b().func,onDeleteComplete:b().func,onEditComplete:b().func,open:b().bool,range:b().object};var ea=n(69396),el=n(99534),eo=n(32912),es=n(5203),ec=n(28842),e$=n(23006),ed=n(91340),eu=n(64337),ep=n(9952),e_=n(21392),ef=[{icon:es.Z,label:"Month",value:"dayGridMonth"},{icon:ec.Z,label:"Week",value:"timeGridWeek"},{icon:e$.Z,label:"Day",value:"timeGridDay"},{icon:ed.Z,label:"Agenda",value:"listWeek"}],ev=function(e){var t=e.date,n=e.mobile,r=e.onAddClick,i=e.onDateNext,l=e.onDatePrev,o=(e.onDateToday,e.onViewChange),s=e.view,c=(0,el.Z)(e,["date","mobile","onAddClick","onDateNext","onDatePrev","onDateToday","onViewChange","view"]),$=function(e){null==o||o(e.target.value)};return(0,a.jsxs)(v.Z,(0,ea.Z)((0,y.Z)({sx:{alignItems:"center",display:"flex",flexWrap:"wrap",justifyContent:"space-between",px:3,flexDirection:{xs:"column",md:"row"}}},c),{children:[(0,a.jsxs)(v.Z,{sx:{alignItems:"center",display:"flex",mb:{xs:2,md:0},mr:2},children:[(0,a.jsx)(k.Z,{variant:"h5",children:(0,eo.Z)(t,"MMMM")}),(0,a.jsx)(k.Z,{sx:{fontWeight:400,ml:1},variant:"h5",children:(0,eo.Z)(t,"y")})]}),(0,a.jsxs)(v.Z,{sx:{alignItems:"center",flexWrap:"wrap",display:"flex",m:-1},children:[(0,a.jsxs)(v.Z,{sx:{m:1},children:[(0,a.jsx)(W.Z,{onClick:l,children:(0,a.jsx)(eu.s,{fontSize:"small"})}),(0,a.jsx)(W.Z,{onClick:i,children:(0,a.jsx)(ep._,{fontSize:"small"})})]}),(0,a.jsx)(E.Z,{label:"View",name:"view",onChange:$,select:!0,size:"small",value:s,sx:{ml:{xs:"auto",md:1},m:1,minWidth:120},SelectProps:{native:!0},children:ef.map(function(e){return n&&!["timeGridDay","listWeek"].includes(e.value)?null:(0,a.jsx)("option",{value:e.value,children:e.label},e.value)})}),(0,a.jsx)(P.Z,{onClick:r,startIcon:(0,a.jsx)(e_.v,{fontSize:"small"}),sx:{m:1,order:{xs:-1,md:0},width:{xs:"100%",md:"auto"}},variant:"contained",children:"New Event"})]})]}))};ev.propTypes={children:b().node,date:b().instanceOf(Date).isRequired,mobile:b().bool,onAddClick:b().func,onDateNext:b().func,onDatePrev:b().func,onDateToday:b().func,onViewChange:b().func,view:b().oneOf(["dayGridMonth","timeGridWeek","timeGridDay","listWeek"]).isRequired};var eh=n(38682),eg=(0,h.ZP)("div")(function(e){var t=e.theme;return{marginTop:t.spacing(3),"& .fc-license-message":{display:"none"},"& .fc":{"--fc-bg-event-opacity":1,"--fc-border-color":t.palette.divider,"--fc-daygrid-event-dot-width":"10px","--fc-event-text-color":t.palette.primary.contrastText,"--fc-list-event-hover-bg-color":t.palette.background.default,"--fc-neutral-bg-color":t.palette.background.default,"--fc-page-bg-color":t.palette.background.default,"--fc-today-bg-color":(0,g.Fq)(t.palette.primary.main,.25),color:t.palette.text.primary,fontFamily:t.typography.fontFamily},"& .fc .fc-col-header-cell-cushion":{paddingBottom:"10px",paddingTop:"10px",fontSize:t.typography.overline.fontSize,fontWeight:t.typography.overline.fontWeight,letterSpacing:t.typography.overline.letterSpacing,lineHeight:t.typography.overline.lineHeight,textTransform:t.typography.overline.textTransform},"& .fc .fc-day-other .fc-daygrid-day-top":{color:t.palette.text.secondary},"& .fc-daygrid-event":{borderRadius:t.shape.borderRadius,padding:"0px 4px",fontSize:t.typography.subtitle2.fontSize,fontWeight:t.typography.subtitle2.fontWeight,lineHeight:t.typography.subtitle2.lineHeight},"& .fc-daygrid-block-event .fc-event-time":{fontSize:t.typography.body2.fontSize,fontWeight:t.typography.body2.fontWeight,lineHeight:t.typography.body2.lineHeight},"& .fc-daygrid-day-frame":{padding:"12px"}}}),e0=function(){var e=(0,R.I0)(),t=(0,l.useRef)(null),n=(0,f.Z)(function(e){return e.breakpoints.down("sm")}),o=(0,R.v9)(function(e){return e.calendar}).events,h=(0,l.useState)(new Date),g=h[0],m=h[1],x=(0,l.useState)(n?"timeGridDay":"dayGridMonth"),y=x[0],Z=x[1],b=(0,l.useState)({isOpen:!1,eventId:void 0,range:void 0}),w=b[0],j=b[1];(0,l.useEffect)(function(){eh.w.push({event:"page_view"})},[]),(0,l.useEffect)(function(){e(ee())},[]);var D=(0,l.useCallback)(function(){var e=t.current;if(e){var r=e.getApi(),i=n?"timeGridDay":"dayGridMonth";r.changeView(i),Z(i)}},[t,n]);(0,l.useEffect)(function(){D()},[n]);var C,T,k=function(){var e=t.current;if(e){var n=e.getApi();n.today(),m(n.getDate())}},E=function(e){var n=t.current;n&&(n.getApi().changeView(e),Z(e))},S=function(){var e=t.current;if(e){var n=e.getApi();n.prev(),m(n.getDate())}},I=function(){var e=t.current;if(e){var n=e.getApi();n.next(),m(n.getDate())}},A=function(){j({isOpen:!0})},M=function(e){var n=t.current;n&&n.getApi().unselect(),j({isOpen:!0,range:{start:e.start.getTime(),end:e.end.getTime()}})},W=function(e){j({isOpen:!0,eventId:e.event.id})},P=(C=(0,r.Z)(function(t){var n,r,a,l,o;return(0,i.__generator)(this,function(i){switch(i.label){case 0:n=t.event,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,e(en(((l={}).eventId=n.id,l.update={allDay:n.allDay,start:null===(r=n.start)||void 0===r?void 0:r.getTime(),end:null===(a=n.end)||void 0===a?void 0:a.getTime()},l)))];case 2:return i.sent(),[3,4];case 3:return o=i.sent(),console.error(o),[3,4];case 4:return[2]}})}),function(e){return C.apply(this,arguments)}),z=(T=(0,r.Z)(function(t){var n,r,a,l,o;return(0,i.__generator)(this,function(i){switch(i.label){case 0:n=t.event,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,e(en(((l={}).eventId=n.id,l.update={allDay:n.allDay,start:null===(r=n.start)||void 0===r?void 0:r.getTime(),end:null===(a=n.end)||void 0===a?void 0:a.getTime()},l)))];case 2:return i.sent(),[3,4];case 3:return o=i.sent(),console.error(o),[3,4];case 4:return[2]}})}),function(e){return T.apply(this,arguments)}),V=function(){j({isOpen:!1})},B=w.eventId&&o.find(function(e){return e.id===w.eventId});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s(),{children:(0,a.jsx)("title",{children:"Dashboard: Calendar | Material Kit Pro"})}),(0,a.jsxs)(v.Z,{component:"main",sx:{backgroundColor:"background.paper",flexGrow:1,py:8},children:[(0,a.jsx)(ev,{date:g,onAddClick:A,onDateNext:I,onDatePrev:S,onDateToday:k,onViewChange:E,view:y,mobile:n}),(0,a.jsx)(eg,{children:(0,a.jsx)(c.ZPm,{allDayMaintainDuration:!0,dayMaxEventRows:3,droppable:!0,editable:!0,eventClick:W,eventDisplay:"block",eventDrop:z,eventResizableFromStart:!0,eventResize:P,events:o,headerToolbar:!1,height:800,initialDate:g,initialView:y,plugins:[$.ZP,d.ZP,u.Z,p.ZP,_.ZP],ref:t,rerenderDelay:10,select:M,selectable:!0,weekends:!0})})]}),(0,a.jsx)(ei,{event:B,onAddComplete:V,onClose:V,onDeleteComplete:V,onEditComplete:V,open:w.isOpen,range:w.range})]})};e0.getLayout=function(e){return(0,a.jsx)(m.a,{children:(0,a.jsx)(x.c,{children:e})})};var em=e0}},function(e){e.O(0,[4870,7760,8576,7836,4054,9072,2251,3837,7998,5720,5354,7413,939,4215,1141,7966,6473,1659,1110,8848,9774,2888,179],function(){return e(e.s=60243)}),_N_E=e.O()}]);